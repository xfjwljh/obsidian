# 回顾
1. 机械特性、电气特性、功能特性、过程特性
2. 香农公式
3. 电缆，光纤，短波，微波。。。
4. 16=4\*log（1+s/n），
5. 除一下就好
6. ![[Pasted image 20220401153506.png]]要先减去反码得到码片向量，然后再算规格化内积
7. B
# 第 3 章 数据链路层
- 为什么有数据链路层？

## 3.2 点对点协议 PPP
- ***PPP 协议的特点***
	- 现在全世界使用得最多的数据链路层协议 是**点对点**协议 PPP (Point-to-Point Protocol)。 
	- 用户使用拨号电话线接入互联网时，一般 都是使用 PPP 协议。
	- ![[Pasted image 20220401162910.png]]
- ***PPP 协议应满足的需求***
	- 简单 
	- 装成帧
	- 透明性
	- 多种网络层协议
	- 多种类型链路
	- 差错检测
	- 检测连接状态
	- 最大传送单元
	- 网络层地址协商
	- 数据压缩协商
- ***PPP 协议不需要的功能***
	- 纠错 
	- 流量控制 
	- 序号和确认机制 
	- 多点线路 
	- 半双工或单工链路
- ***PPP 协议的组成***
	- 1992 年制订了 PPP 协议。经过 1993 年和 1994 年的修订，现在的 PPP 协议已成为互 联网的正式标准[RFC 1661]。 
	- PPP 协议有三个组成部分
		- 一个将 IP 数据报封装到串行链路的方法。
		- *链路控制协议 LCP *(Link Control Protocol)。
		- *网络控制协议 NCP* (Network Control Protocol)。
- ***PPP 协议的帧格式***![[Pasted image 20220401163439.png]]
	- 标志字段 F = 0x7E （符号“0x”表示后面 的字符是用十六进制表示。十六进制的 7E 的二进制表示是 01111110）。 
	- 地址字段 A 只置为 0xFF。地址字段实际上 并不起作用。 
	- 控制字段 C 通常置为 0x03。 
	- PPP 是**面向字节**的，所有的 PPP *帧的长度 都是整数字节*。
- ***透明传输问题***
	- 当 PPP 用在*同步传输*链路时，协议规定采 用硬件来完成**比特填充**（和 HDLC 的做法 一样）。 
	- 当 PPP 用在*异步传输*时，使用一种特殊的 **字符填充法**。[[字符填充]]
	- [[零比特填充]]
- ***不提供使用序号和确认的可靠传输***，PPP 协议之所以不使用序号和确认机制是出 于以下的考虑： 
	- 在数据链路层出现差错的概率不大时，使用比 较简单的 PPP 协议较为合理。 
	- 在互联网环境下，PPP 的信息字段放入的数据 是 IP 数据报。数据链路层的可靠传输并不能够 保证网络层的传输也是可靠的。 
	- 帧检验序列 FCS 字段可保证无差错接受。
- ***PPP 协议的工作状态***
	- 拨号接入 ISP 时，ISP中路由器的调制解调器对拨号 做出确认，并建立一条物理连接。 
	- PC 机向路由器发送一系列的 *LCP 分组（封装成多个 PPP 帧）*。 
	- 这些分组及响应选择 PPP 参数，并进行网络层配置， **NCP 给新接入的 PC机分配一个临时的 IP 地址。** 
	- 通信完毕，NCP *释放网络层连接*，收回原来分配出去 的 IP 地址. 
	- LCP *释放数据链路层*连接。 
	- *最后释放物理层*的连接。（注意释放顺序，上层是依赖下层，要先释放上层）![[Pasted image 20220401164637.png]]
## 3.3 使用广播信道的数据链路层
- 局域网（LAN）最主要的特点是：网络为一个单位所 拥有，且地理范围和站点数目均有限。
- 局域网具有如下的一些主要优点： 
	- 具有广播功能，从一个站点可很方便地访问全网。局域网上的 主机可共享连接在局域网上的各种硬件和软件资源。 
	- 便于系统的扩展和逐渐地演变，各设备的位置可灵活调整和改 变。 
	- 提高了系统的可靠性、可用性和生存性。
- ***媒体共享技术***
	- 静态划分信道
		- 频分复用
		- 时分复用
		- 波分复用
		- 码分复用 
	- 动态媒体接入控制（多点接入）
		- 随机接入:容易产生[[碰撞]]
		- 受控接入 ，如多点线路探询(polling)，或轮询。
- ***以太网的两个标准***
	- `DIX Ethernet V2 `是世界上第一个局域网 产品（以太网）的规约。 
	- `IEEE` 的 802.3 标准。 
	- DIX Ethernet V2 标准与 IEEE 的 802.3 标准只有很小的差别，因此可以将 802.3 局域网简称为“**以太网**” 。 
	- *严格说来，“以太网”应当是指符合 DIX Ethernet V2 标准的局域网*
- ***数据链路层的两个子层***
	- 局域网的数据链路层被拆成两个子层：
		- *逻辑链路控制 LLC* (Logical Link Control)
		- *媒体接入控制 MAC* (Medium Access Control) 
	- 与接入到传输媒体有关的内容- MAC子层， 
	- LLC 子层与链路的控制有关，与传输媒体无 关
	- 局域网对 LLC 子层是透明的![[Pasted image 20220401171055.png]]
	- **以后一般不考虑 LLC 子层**
		- 由于 TCP/IP 体系经常使用的局域网是 DIX Ethernet V2 而不是 802.3 标准中 的几种局域网，因此现在 802 委员会制 定的逻辑链路控制子层 LLC（即 802.2 标准）的作用已经不大了。 
		- 很多厂商生产的适配器上就仅装有 MAC 协议而没有 LLC 协议。
- ***适配器的作用***
	- 网络接口板又称为**通信适配器**(adapter)或 **网络接口卡** NIC (Network Interface Card)，或“**网卡**” 。 
	- 适配器的重要功能：
		- 进行*串行/并行转换*。
		- 对数据进行*缓存*，有硬件缓冲存储部件。
		- *信号转换*（数字-电、光信号）。 
	- 实现物理层和数据链路控制协议，所以需要 安装驱动。
	- 计算机通过NIC和局域网进行通信![[Pasted image 20220401171449.png]]
- 习题：![[Pasted image 20220401172354.png]]
- ***CSMA/CD 协议**
	- 最初的以太网是将许多计算机都连接到一根总线上。 当初认为这样的连接方法既简单又可靠，因为总线 上没有有源器件。![[Pasted image 20220401172532.png]]
	- 以太网的广播方式发送
		- 总线上的每一个工作的计算机都能检测到 B 发送的数 据信号。
		- 由于只有计算机 D 的地址与数据帧首部写入的地址一 致，因此只有 D 才接收这个数据帧。
		- 其他所有的计算机（A, C 和 E）都检测到不是发送给它 们的数据帧，因此就丢弃这个数据帧而不能够收下来。
		- 具有广播特性的总线上实现了**一对一**的通信。
	- **为了通信的简便 以太网采取了两种重要的措施**
		- 采用较为*灵活*的无连接的工作方式，即*不必先 建立连接*就可以直接发送数据。 
		- 以太网对发送的数据帧不进行编号，也*不要求 对方发回确认*。
		- 理由是认为局域网信道的质量很好，距离也很短，因信道质 量产生差错的概率很小。
	- **以太网提供的服务**
		- 以太网提供的服务是*不可靠*的数据帧交付，即尽最 大努力的交付。
		- 当目的站收到有差错的数据帧时就*丢弃此帧*。差错 的纠正由高层来决定。
		- 如果高层发现丢失了一些数据而进行重传，但以太 网并不知道这是一个重传的帧，是当作一个新的数 据帧来发送。
	- **以太网发送的数据都使用 *曼彻斯特(Manchester)编码***
		- ![[Pasted image 20220401173151.png]][[跳变]]
	- 总结：
		- 不是面向连接的传输，可能发生更多的重新 发送 
		- 因为曼彻斯特编码，码元比原来提高一倍， *增加了负担* （一高一低才能表示一个比特）
		- 广播式发送，不用预约发送，*产生数据碰撞*。 
		- 所以要*CSMA/CD*。![[Pasted image 20220401173827.png]]

































